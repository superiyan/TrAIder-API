# ========================================
# TrAIder API - PRODUCTION ENVIRONMENT
# ========================================
# IMPORTANT: Customize all values below for your server!
# NEVER commit this file to git

# ========================================
# 1. SERVER CONFIGURATION
# ========================================
NODE_ENV=production
PORT=3000
API_VERSION=v1

# ========================================
# 2. DATABASE CONFIGURATION
# ========================================
# Format: postgresql://username:password@host:port/database
# Get this from: sudo bash setup-postgres.sh
DATABASE_URL=postgresql://traider_prod:REPLACE_WITH_PASSWORD@localhost:5432/traider_prod

# PostgreSQL Direct Connection (optional, for migrations)
POSTGRES_USER=traider_prod
POSTGRES_PASSWORD=REPLACE_WITH_PASSWORD
POSTGRES_DB=traider_prod
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# ========================================
# 3. AUTHENTICATION & SECURITY
# ========================================
# Generate with: openssl rand -base64 32
# MUST be at least 32 characters!
JWT_SECRET=REPLACE_WITH_GENERATED_SECRET_MIN_32_CHARS

# Token expiration
JWT_EXPIRE=7d

# ========================================
# 4. CORS & ORIGIN CONFIGURATION
# ========================================
# Set to your actual domain(s)
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com

# ========================================
# 5. LOGGING CONFIGURATION
# ========================================
LOG_LEVEL=warn
# Options: error, warn, info, debug, trace

# ========================================
# 6. RATE LIMITING
# ========================================
# Request limit per time window
RATE_LIMIT_WINDOW_MS=900000
# 900000 = 15 minutes
RATE_LIMIT_MAX_REQUESTS=100
# 100 requests per 15 minutes

# ========================================
# 7. CACHING (Redis) - OPTIONAL
# ========================================
# Uncomment and configure if using Redis
# REDIS_URL=redis://localhost:6379

# ========================================
# 8. AI/ML SERVICES (OPTIONAL)
# ========================================
# OpenAI API Key for AI features
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-REPLACE_WITH_YOUR_KEY

# Model to use
AI_MODEL=gpt-4

# ========================================
# 9. MARKET DATA API (OPTIONAL)
# ========================================
# API key for market data provider
MARKET_DATA_API_KEY=REPLACE_WITH_YOUR_KEY
MARKET_DATA_URL=https://api.example.com

# ========================================
# 10. EMAIL NOTIFICATIONS (OPTIONAL)
# ========================================
# SMTP Configuration for email alerts
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@example.com
# SMTP_PASS=your-app-password

# ========================================
# 11. ERROR TRACKING (OPTIONAL)
# ========================================
# Sentry DSN for error tracking
# Get from: https://sentry.io
# SENTRY_DSN=https://your-sentry-url

# ========================================
# 12. MONITORING (OPTIONAL)
# ========================================
# For New Relic, DataDog, etc.
# NEW_RELIC_LICENSE_KEY=your-key
# DATADOG_API_KEY=your-key

# ========================================
# Setup Instructions:
# ========================================
# 1. Replace REPLACE_WITH_PASSWORD with output from setup-postgres.sh
# 2. Generate JWT_SECRET: openssl rand -base64 32
# 3. Set CORS_ORIGIN to your domain
# 4. Add API keys for optional services
# 5. Save file as .env.production
# 6. Run: npm run prisma:migrate:prod
# 7. Deploy with: pm2 start start-prod.js --env production
#
# Verify:
# curl http://localhost:3000/health
